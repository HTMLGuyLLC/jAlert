!function(e){var t,n;Date.now||(Date.now=function(){return+new Date}),e.fn.jAlert=function(t){e("body").focus(),e("body").blur();var n={xsmall:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},o=[],i=["animated"],a=[];if(this.length>1)return this.each(function(){e.fn.jAlert(t)}),this;if(void 0!==e(this)[0]&&"undefined"!=e(this)[0].jAlert)return e(this)[0].jAlert;if(e.each(e.fn.jAlert.defaults,function(e,n){var o=e.toLowerCase();void 0!==t[o]&&(t[e]=t[o])}),(t=e.extend({},e.fn.jAlert.defaults,t)).id)r=t.id;else var r="ja_"+(Date.now().toString()+Math.floor(1e5*Math.random()));var l={set:function(e,t){return l[e]=t,l},__set:function(e,t){return l.set(e,t)},get:function(e){return l[e]},__get:function(e){return l.get(e)},centerAlert:function(){var t=e(window).height()-l.instance.height(),n=t/2;return n=(n=n>200?n-100:n)<=0?0:n,n-=1,l.instance.css("margin-top",n+"px"),l.instance.css("margin-bottom","0px"),e("html,body").css("overflow","hidden"),t>5?l.instance.parents(".ja_wrap").css("position","fixed"):(l.instance.parents(".ja_wrap").css("position","absolute"),e("html, body").animate({scrollTop:top-50},200)),l},animateAlert:function(t){return"hide"==t?(l.instance.jAlert().blurBackground&&e("body").removeClass("ja_blur"),l.instance.removeClass(l.showAnimation).addClass(l.hideAnimation)):(l.instance.jAlert().blurBackground&&e("body").addClass("ja_blur"),l.centerAlert(),l.instance.addClass(l.showAnimation).removeClass(l.hideAnimation).show()),l},closeAlert:function(t,n){return 0!=t&&(t=!0),l.instance&&(l.instance.unbind("DOMSubtreeModified"),l.animateAlert("hide"),window.setTimeout(function(){var o=l.instance.parents(".ja_wrap");t?o.remove():o.hide(),"function"==typeof n?n(l.instance):"function"==typeof l.onClose&&l.onClose(l.instance),e(".jAlert:visible").length>0?e(".jAlert:visible:last").jAlert().centerAlert():e("html,body").css("overflow","auto")},l.animationTimeout)),l},showAlert:function(t,n,o,i){0!=t&&(t=!0),!1!==n&&(n=!0),t&&e(".jAlert:visible").jAlert().closeAlert(n);var a=l.instance.parents(".ja_wrap");return e("body").append(a),l.animateAlert("show"),"function"==typeof i&&(l.onClose=i),window.setTimeout(function(){"function"==typeof o&&o(l.instance)},l.animationTimeout),l}};if(e.each(t,function(e,t){l.set(e,t)}),l.set("id",r),l.content&&0===l.content.indexOf("#")&&e(l.content).length>0&&(l.content=e(l.content).html()),l.video&&l.video.indexOf("youtube.com/watch?v=")>-1&&-1===l.video.indexOf("embed")&&(l.video=l.video.replace("watch?v=","embed/")),"confirm"==l.type&&(l.content||(l.content=l.confirmQuestion),l.btns=[{text:l.confirmBtnText,theme:"green",class:"confirmBtn",closeAlert:!0,onClick:l.onConfirm},{text:l.denyBtnText,theme:"red",class:"denyBtn",closeAlert:!0,onClick:l.onDeny}],l.autofocus=l.confirmAutofocus),l.color&&(l.theme=l.color),-1==e.inArray(l.theme,["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow"]))return console.log("jAlert Config Error: Invalid theme selection."),!1;if(i.push("ja_"+l.theme),l.class&&i.push(l.class),l.classes&&i.push(l.classes),l.fullscreen&&i.push("ja_fullscreen"),l.noPadContent&&i.push("ja_no_pad"),l.title||i.push("ja_noTitle"),l.width&&(l.size=l.width),l.size&&"object"==typeof l.size&&(void 0===l.size.width||void 0===l.size.height))return console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1;if(l.size?"object"==typeof l.size?(o.push("width: "+l.size.width+";"),o.push("height: "+l.size.height+";"),i.push("ja_setheight")):(void 0!==n[l.size]&&(l.size=n[l.size]),e.inArray(l.size,["xsm","sm","md","lg","xlg","full","auto"])>-1?i.push("ja_"+l.size):o.push("width: "+l.size+";")):i.push("ja_sm"),-1==e.inArray(l.backgroundColor,["white","black"]))return console.log("jAlert Config Error: Invalid background color selection."),!1;a.push("ja_wrap_"+l.backgroundColor),l.onOpen=[l.onOpen];var s="<div class='ja_loader'>Loading...</div>";l.picture&&(l.image=l.picture),l.image?(l.content="<div class='ja_media_wrap'>"+s+"<img src='"+l.image+"' class='ja_img' onload='$.fn.jAlert.mediaLoaded($(this))''",l.imageWidth&&(l.content+=" style='width: "+l.imageWidth+"'"),l.content+="></div>"):l.video?(l.content="<div class='ja_media_wrap'>"+s+"<div class='ja_video'></div></div>",l.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().video,n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_video").append(n)})):l.iframe?(l.iframeHeight||(l.iframeHeight=e(window).height()+"px"),l.content="<div class='ja_media_wrap'>"+s+"</div>",l.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().iframe,n.className="ja_iframe",n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_media_wrap").append(n)})):l.ajax&&(l.content="<div class='ja_media_wrap'>"+s+"</div>",onAjaxCallbacks=l.onOpen,l.onOpen=[function(t){e.ajax(t.jAlert().ajax,{async:!0,complete:function(n,o){t.find(".ja_media_wrap").replaceWith(n.responseText),e.each(onAjaxCallbacks,function(e,n){n(t)})},error:function(e,n,o){l.onAjaxFail(t,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}]);var c=function(t){if(void 0===t.href&&(t.href=""),void 0===t.class&&(t.class=""),void 0===t.theme?t.class+=" ja_btn_default":t.class+=" ja_btn_"+t.theme,void 0===t.text&&(t.text=""),void 0===t.id){var n=Date.now().toString()+Math.floor(1e5*Math.random());t.id="ja_btn_"+n}return void 0===t.target&&(t.target="_self"),void 0===t.closeAlert&&(t.closeAlert=!0),e("body").off("click","#"+t.id),e("body").on("click","#"+t.id,function(n){var o=e(this);t.closeAlert&&o.parents(".jAlert").jAlert().closeAlert();var i=!0;return"function"==typeof t.onClick&&(i=t.onClick(n,o)),!i||t.closeAlert?(n.preventDefault(),!1):i}),"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='ja_btn "+t.class+"'>"+t.text+"</a> "},d=function(t){var n="";n+='<div class="ja_wrap '+a.join(" ")+'"><div class="jAlert '+i.join(" ")+'" style="'+o.join(" ")+'" id="'+l.id+'"><div>',l.closeBtn&&(n+="<div class='closejAlert ja_close",l.closeBtnAlt?n+=" ja_close_alt":l.closeBtnRoundWhite?n+=" ja_close_round_white":l.closeBtnRound&&(n+=" ja_close_round"),n+="'>&times;</div>"),l.title&&(n+="<div class='ja_title'><div>"+l.title+"</div></div>"),n+='<div class="ja_body">'+t,l.btns&&(n+='<div class="ja_btn_wrap ',l.btnBackground&&(n+="optBack"),n+='">'),"object"==typeof l.btns[0]?e.each(l.btns,function(e,t){"object"==typeof t&&(n+=c(t))}):"object"==typeof l.btns?n+=c(l.btns):l.btns&&console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+l.btns),l.btns&&(n+="</div>");var r=e(n+="</div></div></div></div>");l.replaceOtherAlerts&&e(".jAlert:visible").each(function(){e(this).jAlert().closeAlert()});return e("body").append(r),l.instance=e("#"+l.id),l.instance[0].jAlert=l,e("html,body").css("overflow","hidden"),l.animateAlert("show"),l.closeBtn&&l.instance.on("click",".closejAlert",function(t){return t.preventDefault(),e(this).parents(".jAlert:first").jAlert().closeAlert(),!1}),l.closeOnClick&&(e(document).off("mouseup touchstart",e.fn.jAlert.onMouseUp),e(document).on("mouseup touchstart",e.fn.jAlert.onMouseUp)),l.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),l.onOpen&&e.each(l.onOpen,function(e,t){t(l.instance)}),l.autofocus?l.instance.find(l.autofocus).focus():l.instance.focus(),l.autoClose&&e.fn.closeTimer(function(){var t=e.jAlert("current");!1!==t&&t.closeAlert()},l.autoClose),l.instance.bind("DOMSubtreeModified",function(){l.centerAlert()}),l.instance};return this.initialize=function(){return l.content||l.image||l.video||l.iframe||l.ajax?(l.content||(l.content=""),d(l.content)):(console.log("jAlert potential error: No content defined"),d(""))},this.initialize(),l},e.fn.closeTimer=(jQuery,t=0,function(e,n){clearTimeout(t),t=setTimeout(e,n)}),e.fn.jAlert.defaults={title:!1,content:!1,noPadContent:!1,fullscreen:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){e.jAlert().closeAlert(),errorAlert(t)},iframe:!1,iframeHeight:!1,class:"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",blurBackground:!1,size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,closeBtnRoundWhite:!1,btns:!1,autoClose:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),console.log("confirmed"),!1},onDeny:function(e,t){return e.preventDefault(),!1}},e.fn.jAlert.onMouseUp=function(t){var n=t.target?t.target:t.srcElement,o=e(".jAlert:visible:last");o.length>0&&o.jAlert().closeOnClick&&(e(n).is(".jAlert *")||o.jAlert().closeAlert())},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){var n=e(".jAlert:visible:last");n.length>0&&n.jAlert().closeOnEsc&&n.jAlert().closeAlert()}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"==t){var n=e(".jAlert:visible:last");return n.length>0&&n.jAlert()}return"attach"==t?(e("[data-jAlert]").off("click",e.fn.attachjAlert),e("[data-jAlert]").on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert),e("[data-jalert]").on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",function(n){return n.preventDefault(),e.jAlert(t),!1})},e.alertOnClick=function(t,n){e("body").on("click",t,function(t){return t.preventDefault(),e.jAlert(n),!1})},e.fn.closeAlert=function(t,n){e(this).jAlert().closeAlert(t,n)},e(window).resize(function(){window.clearTimeout(n),n=window.setTimeout(function(){e(".jAlert:visible").each(function(){e(this).jAlert().centerAlert()})},200)}),e.fn.jAlert.mediaLoaded=function(e){var t=e.parents(".ja_media_wrap"),n=t.find(".ja_video"),o=e.parents(".jAlert:first").jAlert();t.find(".ja_loader").remove(),n.length>0?n.fadeIn("fast"):e.fadeIn("fast"),void 0!==o.iframeHeight&&o.iframeHeight&&(e.css("display","block"),e.height(o.iframeHeight)),o.centerAlert()}}(jQuery);