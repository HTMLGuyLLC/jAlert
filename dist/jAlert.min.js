!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jAlert=t():e.jAlert=t()}(this,function(){return function(){"use strict";var e={r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};return e.r(t),function(e){const t=["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow","orange","dark_orange"],o=["xsm","sm","md","lg","xlg","full","auto"],n={xsmall:"xsm",xs:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},i=["white","black"],s={generateId(){return"ja_"+Date.now().toString()+Math.floor(1e5*Math.random())},isElement(e){return e&&e.jquery},normalizeOptions(t){const o={};return Object.keys(e.fn.jAlert.defaults).forEach(e=>{const n=e.toLowerCase();void 0!==t[n]&&(o[e]=t[n])}),{...o,...t}},processContent(t,o){if(t&&0===t.indexOf("#")){const o=e(t);if(o.length>0)return o.html()}return s.isElement(t)?t.html():t},processIframeVideoUrl(e){let t=e.src;t.indexOf("youtube.com/watch?v=")>-1&&-1===t.indexOf("embed")&&(t=t.replace("watch?v=","embed/"));if(t.includes("youtube.com")||t.includes("vimeo.com")){const o=new URLSearchParams;e.autoplay&&o.set("autoplay","1"),e.muted&&(t.includes("youtube.com")?o.set("mute","1"):t.includes("vimeo.com")&&o.set("muted","1")),!1!==e.controls&&o.set("controls","1"),e.loop&&o.set("loop","1"),o.set("playsinline","1"),o.toString()&&(t+=(t.includes("?")?"&":"?")+o.toString())}return t},createIframeVideo(e,t={}){const{maxWidth:o="800px",maxHeight:n="450px",onLoad:i=null,onError:s=null,showLoader:a=!0}=t,l=document.createElement("iframe");l.src=e.src,l.className="ja_iframe",Object.keys(e).forEach(t=>{"maxWidth"===t||"maxHeight"===t||"width"!==t&&"height"!==t&&"maxWidth"!==t&&"maxHeight"!==t&&"src"!==t&&"type"!==t&&"embedType"!==t&&l.setAttribute(t,e[t])});const r=parseFloat(o),d=parseFloat(n)/r*100,c=document.createElement("div");if(c.style.width=o,c.style.maxWidth="100%",c.style.height="0px",c.style.paddingBottom=d+"%",c.style.position="relative",c.style.display="block",a){const e=document.createElement("div");e.className="ja_loader",e.setAttribute("role","status"),e.setAttribute("aria-label","Loading video"),e.innerText="Loading...",e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.zIndex="1",c.appendChild(e)}l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.width="100%",l.style.height="100%",c.appendChild(l);const u=function(){if(a){const e=c.querySelector(".ja_loader");e&&e.remove()}"function"==typeof i&&i(l,c)},h=function(){if(a){const e=c.querySelector(".ja_loader");e&&e.remove()}"function"==typeof s&&s(l,c)};return l.addEventListener?(l.addEventListener("load",u,!0),l.addEventListener("error",h,!0)):l.attachEvent?(l.attachEvent("onload",u),l.attachEvent("onerror",h)):(l.onload=u,l.onerror=h),{iframe:l,container:c,removeLoader:u,handleError:h}},createHtml5Video(e,t={}){const{onLoad:o=null,onError:n=null,showLoader:i=!0}=t;let s="800px",a="450px";const l=document.createElement("video");l.src=e.src,l.className="ja_video_element",e.controls&&l.setAttribute("controls","controls"),e.preload&&l.setAttribute("preload","metadata"),Object.keys(e).forEach(t=>{const o=e[t];"maxWidth"===t?s=o:"maxHeight"===t?a=o:"width"!==t&&"height"!==t&&"maxWidth"!==t&&"maxHeight"!==t&&"src"!==t&&"type"!==t&&"embedType"!==t&&("boolean"==typeof o?o&&l.setAttribute(t,t):l.setAttribute(t,o))});const r=document.createElement("div");if(r.className="ja_video",i){const e=document.createElement("div");e.className="ja_loader",e.setAttribute("role","status"),e.setAttribute("aria-label","Loading video"),e.innerText="Loading...",e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.zIndex="1",r.appendChild(e)}const d=parseFloat(s),c=parseFloat(a)/d*100;r.style.width=s,r.style.maxWidth="100%",r.style.height="0px",r.style.paddingBottom=c+"%",r.style.position="relative",r.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.width="100%",l.style.height="100%";const u=function(){if(i){const e=r.querySelector(".ja_loader");e&&e.remove()}r.classList.add("ja_video_loaded"),"function"==typeof o&&o(l,r)},h=function(){if(i){const e=r.querySelector(".ja_loader");e&&e.remove()}r.classList.add("ja_video_loaded"),"function"==typeof n&&n(l,r)};return l.addEventListener?(l.addEventListener("loadedmetadata",u,!0),l.addEventListener("error",h,!0)):l.attachEvent?(l.attachEvent("onloadedmetadata",u),l.attachEvent("onerror",h)):(l.onloadedmetadata=u,l.onerror=h),r.appendChild(l),{video:l,container:r,removeLoader:u,handleError:h}},setupConfirmButtons(e){e.content||(e.content=e.confirmQuestion),e.btns=[{text:e.confirmBtnText,theme:"green",class:"confirmBtn",closeAlert:!0,onClick:e.onConfirm},{text:e.denyBtnText,theme:"red",class:"denyBtn",closeAlert:!0,onClick:e.onDeny}],e.autofocus=e.confirmAutofocus},validateTheme(e){return-1!==t.indexOf(e)||(console.warn("jAlert Config Error: Invalid theme selection. Using default theme."),!1)},validateSize(e){return!e||"object"!=typeof e||void 0!==e.width&&void 0!==e.height||(console.warn("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1)},validateBackgroundColor(e){return-1!==i.indexOf(e)||(console.warn("jAlert Config Error: Invalid background color selection."),!1)},getSizeClasses(e){const t=[];return e?"object"==typeof e||(void 0!==n[e]&&(e=n[e]),o.indexOf(e)>-1&&t.push("ja_"+e)):t.push("ja_sm"),t},getSizeStyles(e,t){const i=[],s=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;if(a>150){const e=150,t=20;Math.max(280,s-2*t),Math.max(200,a-e)}return e&&"object"==typeof e?(i.push(`width: ${e.width};`),i.push(`height: ${e.height};`)):e&&"string"==typeof e&&-1===o.indexOf(e)&&void 0===n[e]&&i.push(`width: ${e};`),"auto"===e&&t&&(t.image||t.slideshow)&&i.push("height: auto;"),i},createMediaContent(t){const o="<div class='ja_loader' role='status' aria-label='Loading content'>Loading...</div>";if(t.slideshow){t.classes=(t.classes||"")+" ja_slideshow_modal";let n="<div class='ja_media_wrap ja_slideshow_wrap' role='region' aria-label='Image slideshow'>";n+=o,t.onOpen.unshift(function(e){e.find(".ja_body").addClass("ja_loading")});const i=t.slideshowOptions&&t.slideshowOptions.thumbnailLocation||"bottom",a=t.slideshowOptions&&t.slideshowOptions.showThumbnails,l="top"===i?"top":"bottom";return a&&"top"===l&&(n+="<div class='ja_slideshow_thumbnails ja_slideshow_thumbnails_top' role='tablist' aria-label='Thumbnail navigation'></div>"),n+="<div class='ja_slideshow_main'>",n+="<div class='ja_slideshow_container'><div class='ja_slideshow_slide' role='img' aria-live='polite'></div>",t.slideshowOptions&&!1!==t.slideshowOptions.showArrows&&(n+="<button type='button' class='ja_slideshow_arrow ja_slideshow_prev' aria-label='Previous image'>&lt;</button><button type='button' class='ja_slideshow_arrow ja_slideshow_next' aria-label='Next image'>&gt;</button>"),n+="</div>",t.slideshowOptions&&t.slideshowOptions.showCounter&&("dots"===t.slideshowOptions.showCounter?n+="<div class='ja_slideshow_dots' role='tablist' aria-label='Slide navigation'></div>":"numbers"===t.slideshowOptions.showCounter&&(n+="<div class='ja_slideshow_counter' aria-live='polite'>1 / 1</div>")),n+="</div>",a&&"bottom"===l&&(n+="<div class='ja_slideshow_thumbnails ja_slideshow_thumbnails_bottom' role='tablist' aria-label='Thumbnail navigation'></div>"),n+="</div>",t.onOpen.unshift(function(t){const o=t.data("jAlert");if(!o)return;const n=o.slideshow,i=o.slideshowOptions||{},a=t.find(".ja_slideshow_container"),l=t.find(".ja_slideshow_slide"),r=t.find(".ja_slideshow_counter"),d=t.find(".ja_slideshow_dots"),c="top"===i.thumbnailLocation?"top":"bottom",u=t.find(".ja_slideshow_thumbnails_"+c),h=t.find(".ja_slideshow_prev"),f=t.find(".ja_slideshow_next");let m=[],p=0,g=null,v=0;if(Array.isArray(n)&&(m=n.map((e,t)=>{if("string"==typeof e)return e.includes("youtube.com")||e.includes("vimeo.com")||e.includes(".mp4")||e.includes(".webm")||e.includes(".ogg")?{type:"video",src:e,index:t}:{type:"image",src:e,index:t};if("object"==typeof e&&(e.imageUrl||e.src)){const o=e.type||"image",n=e.imageUrl||e.src;return{...e,type:o,src:n,index:t}}return null}).filter(Boolean)),!m.length)return o.instance.closeAlert(!0),void setTimeout(()=>{e.jAlert({title:"Slideshow Error",content:"No slides found. Please provide an array of image URLs or slide objects.",theme:"red",size:"sm",closeOnClick:!0})},100);v=m.length;const b={active:!0,closing:!1,closed:!1,endedNaturally:!1,hasEndedNaturally:!1,isActive(){return this.active&&!this.closing&&!this.closed},markClosing(){this.closing=!0,this.active=!1},markClosed(){this.closed=!0,this.closing=!1,this.active=!1},markEndedNaturally(){this.endedNaturally=!0,this.hasEndedNaturally=!0},canExecuteCallbacks(){return this.isActive()&&!this.closing}},j={listeners:{},emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>{try{e(t)}catch(e){console.error("Slideshow lifecycle event error:",e)}})},on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},_={calculateModalOverhead(e,t){const o=e.find(".ja_title"),n=e.find(".ja_btn_wrap"),i=e.find(".ja_body"),s=e.find(".ja_slideshow_thumbnails");let a=0;if(o.length){if(o.is(":visible"))a=o.outerHeight(!0);else{const e=o.css("display"),t=o.css("visibility");o.css({display:"block",visibility:"hidden"}),a=o.outerHeight(!0),o.css({display:e,visibility:t})}0===a&&o.text().trim()&&(a=40)}let l=0;n.length&&(n.is(":visible")?l=n.outerHeight(!0):n.find(".ja_btn, button, a").length>0&&(l=50));const r=(parseInt(i.css("padding-top"))||0)+(parseInt(i.css("padding-bottom"))||0);let d=0;if(s.length)if(s.is(":visible"))d=s.outerHeight(!0);else{if(e.find(".ja_slideshow_has_thumbnails").length>0){const e=window.innerWidth>=481&&window.innerWidth<=1024;d=window.innerWidth<=480?60:e?70:80}}const c=(parseInt(e.css("margin-top"))||0)+(parseInt(e.css("margin-bottom"))||0);return{title:a,buttons:l,bodyPadding:r,thumbnails:d,modalMargins:c,total:a+l+r+d+c+20}},calculateAvailableSpace(e,t,o){const n=window.innerHeight||document.documentElement.clientHeight,i=this.calculateModalOverhead(e,t);if("full"===o){const e=Math.max(200,n-i.total);return{viewport:{width:window.innerWidth,height:n},overhead:i,available:e}}return{viewport:{width:window.innerWidth,height:n},overhead:i,available:Math.max(200,n-i.total)}},setupContainMode(e,t,o=!1){e.removeClass("ja_cover_mode"),e.css({width:"100%",height:"auto",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",background:"none","padding-bottom":"0"});return{mode:"contain",maxImageHeight:o?Math.max(200,t-50):t,isAutoSize:o}},setupCoverMode(e,t,o=!1){let n=e.width();if(!n||0===n){const t=e.closest(".ja_body"),o=e.closest(".jAlert");n=t.width()||o.width()||400}let i=n;if(o){const e=Math.min(t,.95*window.innerHeight);i=Math.min(i,e)}else{const e=Math.min(1.5*t,.8*window.innerHeight);i=Math.min(i,e)}return e.addClass("ja_cover_mode"),e.css({width:"100%",height:i+"px","background-size":"cover","background-position":"center center","background-repeat":"no-repeat",display:"block","padding-bottom":"0"}),{mode:"cover",height:i,width:n}},createContainImage(e,t=null,o=!1){return`<img src="${e.src}" alt="${e.altText||""}" class="ja_slideshow_img" style="max-width: 100%; max-height: 100%; width: auto; height: auto; display: block; object-fit: contain;">`},applyBackgroundImage(e,t){e.css("background-image",`url(${t.src})`)}};function w(e,t,o,n=!1){if(!t||0===t.length)return;let i;e.hasClass("jAlert")?i=e:(i=e.parents(".jAlert:first"),0===i.length&&(i=e.closest(".jAlert")));const s=e.find(".ja_slideshow_slide"),a=e.find(".ja_slideshow_wrap"),l=(o.slideshowOptions||{}).imageSize||"contain",r="auto"===o.size,d="full"===o.size;if(n||!o.slideshowSizing){const e=_.calculateAvailableSpace(i,a,o.size);let t;t="cover"===l?{mode:"cover"}:_.setupContainMode(s,e.available,r),o.slideshowSizing={imageSize:l,availableHeight:"cover"===l?null:e.available,mode:"cover"===l?"cover":"contain",isAutoSize:r,isFullScreen:d,overhead:"cover"===l?null:e.overhead,maxImageHeight:"cover"===l?null:t.maxImageHeight||e.available}}return o.slideshowSizing}let y=null;if(e(window).on("resize.ja_slideshow_"+o.id,function(){m.length>0&&(y&&clearTimeout(y),y=setTimeout(()=>{w(t,m,o,!0),function(){const e=t.find(".ja_slideshow_slide"),n=m[p];if(!n||"image"!==n.type)return;const i=o.slideshowSizing;if(!i)return;if("cover"===(i.imageSize||"contain"));else{const t=e.find("img");if(t.length>0){const e=i.maxImageHeight;e&&e>100&&t.css("max-height",e+"px")}_.setupContainMode(e,i.availableHeight,i.isAutoSize)}}(),y=null},100))}),"dots"===i.showCounter){let e="";for(let t=0;t<m.length;t++)e+='<button type="button" class="ja_slideshow_dot" data-slide="'+t+'" role="tab" aria-label="Go to slide '+(t+1)+'" aria-selected="'+(0===t?"true":"false")+'" tabindex="0"></button>';d.html(e),d.find(".ja_slideshow_dot").attr("tabindex","0")}if(i.showThumbnails&&m.length>=1){let o="";for(let e=0;e<m.length;e++){const t=m[e];let n=t.thumbnail,i="ja_slideshow_thumbnail_bg",s="";"image"===t.type?(n=n||t.src,s="background-image: url("+n+"); background-size: cover; background-position: center center;"):"video"===t.type&&(n?s="background-image: url("+n+"); background-size: cover; background-position: center center;":(i+=" ja_slideshow_thumbnail_video",s="background-color: #2c3e50; position: relative;"));const a=t.altText||t.caption||"Slide "+(e+1),l=t.title||t.caption||"";"video"!==t.type||n?o+='<button type="button" class="ja_slideshow_thumbnail" data-slide="'+e+'" role="tab" aria-label="Go to slide '+(e+1)+'" aria-selected="'+(0===e?"true":"false")+'" tabindex="0"'+(l?' title="'+l.replace(/"/g,"&quot;")+'"':"")+' data-alt="'+a.replace(/"/g,"&quot;")+'"><div class="'+i+'" style="'+s+'"></div></button>':o+='<button type="button" class="ja_slideshow_thumbnail" data-slide="'+e+'" role="tab" aria-label="Go to slide '+(e+1)+'" aria-selected="'+(0===e?"true":"false")+'" tabindex="0"'+(l?' title="'+l.replace(/"/g,"&quot;")+'"':"")+' data-alt="'+a.replace(/"/g,"&quot;")+'"><div class="'+i+'" style="'+s+'"><span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px;">&#9654;</span></div></button>'}u.html(o),u.find(".ja_slideshow_thumbnail").attr("tabindex","0"),u.find(".ja_slideshow_thumbnail").each(function(t){const o=e(this),n=o.find(".ja_slideshow_thumbnail_bg"),i=m[t];if(i){if("image"===i.type&&!i.thumbnail){const e=i.src,s=new Image;s.onload=function(){},s.onerror=function(){n.addClass("error"),o.attr("title","Thumbnail failed to load - Slide "+(t+1))},s.src=e}}else console.warn("jAlert: Slide at index",t,"is undefined or null")}),t.find(".ja_slideshow_wrap").addClass("ja_slideshow_has_thumbnails ja_slideshow_thumbnails_"+c)}const A=t.parents(".jAlert").first();function C(){"numbers"===i.showCounter?r.text(`${p+1} / ${m.length}`):"dots"===i.showCounter&&(d.find(".ja_slideshow_dot").removeClass("active").attr("aria-selected","false"),d.find('.ja_slideshow_dot[data-slide="'+p+'"]').addClass("active").attr("aria-selected","true"),d.find(".ja_slideshow_dot").attr("tabindex","0"));const e=m[p];if(e&&e.caption){const e=l.find(".ja_slideshow_caption");if(e.length>0){const t=e[0].getBoundingClientRect(),o=l[0].getBoundingClientRect(),n=t.top-o.top,i=o.height-n+5;r.length>0&&r.css("bottom",i+"px"),d.length>0&&d.css("bottom",i+"px")}}else r.length>0&&r.css("bottom","10px"),d.length>0&&d.css("bottom","10px");if(i.showThumbnails&&u.length>0){u.find(".ja_slideshow_thumbnail").removeClass("active").attr("aria-selected","false"),u.find('.ja_slideshow_thumbnail[data-slide="'+p+'"]').addClass("active").attr("aria-selected","true"),u.find(".ja_slideshow_thumbnail").attr("tabindex","0");const e=u.find('.ja_slideshow_thumbnail[data-slide="'+p+'"]');if(e.length>0){const t=u[0],o=e[0],n=t.clientWidth,i=o.offsetWidth,s=o.offsetLeft-n/2+i/2;t.scrollLeft=Math.max(0,s)}}}function x(e,n=!1){if(!b.isActive())return;if(e<0||e>=m.length)return;if(!n&&"function"==typeof i.onBeforeSlideChange&&b.canExecuteCallbacks()){if(!1===i.onBeforeSlideChange(o.instance,p+1,e+1))return}p=e;const a=m[e];if("image"===a.type){const e=o.slideshowOptions||{},t=e.imageSize||"contain";l.empty(),l.addClass("ja_loading");let n=null,i=!1;if(n=setTimeout(()=>{if(!i){const e='<div class="ja_loader" role="status" aria-label="Loading slide">Loading...</div>';l.append(e),i=!0}},100),"cover"===t)l.addClass("ja_cover_mode"),l.css("background-image",`url(${a.src})`);else{l.removeClass("ja_cover_mode");const e=_.createContainImage(a);l.append(e)}l.attr({"data-alt":a.altText||a.caption||"Slide "+(p+1),"data-title":a.title||a.caption||""}),a.onClick?(l.css("cursor","pointer"),l.off("click.slideshow").on("click.slideshow",function(e){a.onClick(e,a,p+1,o.instance)})):l.css("cursor","").off("click.slideshow"),a.caption&&(l.append('<div class="ja_slideshow_caption">'+a.caption+"</div>"),setTimeout(()=>C(),10));let s=Date.now();const r=300,d=function(){n&&(clearTimeout(n),n=null);if(l.find(".ja_loader").length>0||i){const e=Date.now()-s,t=i?Math.max(0,r-e):0;setTimeout(()=>{l.find(".ja_loader").remove(),l.removeClass("ja_loading"),i=!1},t)}else l.removeClass("ja_loading")},c=l.find("img");if(c.length>0)c.on("load",function(){d();const t=e&&e.onContentLoad||o.onContentLoad;"function"==typeof t&&b.canExecuteCallbacks()&&t(o.instance,"image",l)}),c.on("error",function(){d(),l.append('<div class="ja_slideshow_error">Failed to load image</div>')}),c[0].complete&&0!==c[0].naturalHeight&&d();else{const e=new Image;e.onload=function(){d()},e.onerror=function(){d(),0===l.find(".ja_slideshow_error").length&&l.append('<div class="ja_slideshow_error">Failed to load image</div>')},e.src=a.src}const u=setTimeout(function(){l.find(".ja_loader").length>0&&d()},1e4);l.data("timers")||l.data("timers",[]),l.data("timers").push(u)}else if("video"===a.type){if(l.empty(),l.addClass("ja_loading"),l.attr({"data-alt":a.altText||a.caption||"Video slide "+(p+1),"data-title":a.title||a.caption||""}),a.onClick?(l.css("cursor","pointer"),l.off("click.slideshow").on("click.slideshow",function(e){a.onClick(e,a,p+1,o.instance)})):l.css("cursor","").off("click.slideshow"),a.caption&&(l.append('<div class="ja_slideshow_caption">'+a.caption+"</div>"),setTimeout(()=>C(),10)),"iframe"===a.embedType){const e=s.createIframeVideo(a,{onLoad:function(e,t){l.removeClass("ja_loading"),l.find("iframe").show();const n=o.slideshowOptions||{},i=n&&n.onContentLoad||o.onContentLoad;"function"==typeof i&&b.canExecuteCallbacks()&&i(o.instance,"video",l)},onError:function(e,t){l.removeClass("ja_loading");const n=o.slideshowOptions||{},i=n&&n.onContentLoad||o.onContentLoad;"function"==typeof i&&b.canExecuteCallbacks()&&i(o.instance,"video",l)}});l.append(e.container)}else{const e=s.createHtml5Video(a,{onLoad:function(e,t){l.removeClass("ja_loading");const n=o.slideshowOptions||{},i=n&&n.onContentLoad||o.onContentLoad;"function"==typeof i&&b.canExecuteCallbacks()&&i(o.instance,"video",l)},onError:function(e,t){l.removeClass("ja_loading");const n=o.slideshowOptions||{},i=n&&n.onContentLoad||o.onContentLoad;"function"==typeof i&&b.canExecuteCallbacks()&&i(o.instance,"video",l)}});l.append(e.container)}const e=setTimeout(function(){l.find(".ja_loader").length>0&&(l.find(".ja_loader").remove(),l.removeClass("ja_loading"))},1e4);l.data("timers")||l.data("timers",[]),l.data("timers").push(e)}C(),a.onShow&&setTimeout(()=>{a.onShow(a,p+1,o.instance)},10),i.loop?(h.removeClass("disabled"),f.removeClass("disabled")):(h.toggleClass("disabled",0===p),f.toggleClass("disabled",p===m.length-1));const r=i||t.data("slideshow")?.slideshowOptions;"function"==typeof r?.onSlideChange&&b.canExecuteCallbacks()&&o.instance&&o.instance.length>0&&r.onSlideChange(o.instance,p+1)}function k(){b.isActive()&&(p<m.length-1?x(p+1):i.loop&&("function"==typeof i.onSlideshowLoop&&i.onSlideshowLoop(o.instance,1),x(0)))}function E(){b.isActive()&&(p>0?x(p-1):i.loop&&("function"==typeof i.onSlideshowLoop&&i.onSlideshowLoop(o.instance,m.length),x(m.length-1)))}function S(){b.isActive()&&i.autoAdvance&&i.autoAdvanceInterval&&(g=setInterval(()=>{if(i.loop||p!==m.length-1)k();else{L();const e="function"==typeof i.onSlideshowEnd&&b.isActive()&&o.instance&&o.instance.is(":visible")&&o.instance.data("slideshow");b.markEndedNaturally(),e&&(i.onSlideshowEnd(o.instance,p+1),i.onSlideshowEnd=null)}},i.autoAdvanceInterval))}function L(){g&&(clearInterval(g),g=null)}A.length>0?A.addClass("ja_slideshow_modal"):t.closest(".jAlert").addClass("ja_slideshow_modal"),o._abortPreloadFlag=!1,o._abortPreload=()=>{o._abortPreloadFlag=!0},o._preloadCleanupAdded||(o._preloadCleanupAdded=!0,Array.isArray(o.onClose)||(o.onClose=[o.onClose].filter(Boolean)),o.onClose.push(function(){"function"==typeof o._abortPreload&&o._abortPreload()})),m.length>0&&setTimeout(()=>{t.find(".ja_slideshow_wrap > .ja_loader").remove(),t.find(".ja_body").removeClass("ja_loading"),w(t,m,o,!0),x(0,!0),setTimeout(()=>{!function(){if(!i.preload||m.length<=1)return;let e=null;if(i.showThumbnails){e=new Set;for(let t=0;t<m.length;t++){const o=m[t];if(!o)continue;const n=o.thumbnail||o.src;n&&e.add(n)}}const t=[];for(let o=0;o<m.length;o++){const n=m[o];if(n)if("image"===n.type&&n.src){if(e&&e.has(n.src))continue;t.push({src:n.src,index:o,type:"image"})}else"video"===n.type&&n.src&&n.poster&&!e.has(n.poster)&&t.push({src:n.poster,index:o,type:"video-poster"})}let n=[],s=[];if(i.loop){const e=t.slice(0,5),o=t.slice(-5),i=new Set;n=[...e,...o].filter(e=>!i.has(e.src)&&(i.add(e.src),!0)),s=t.filter(e=>!i.has(e.src))}else{n=t.slice(0,10);const e=new Set(n.map(e=>e.src));s=t.filter(t=>!e.has(t.src))}const a=[...n,...s];let l=0,r=0;!function e(){if(!o._abortPreloadFlag)for(;l<10&&r<a.length;){const t=a[r++].src;l++;const o=new Image;o.onload=o.onerror=function(){l--,e()},o.src=t}}()}()},100)},300),f.on("click.ja_slideshow",function(){b.isActive()&&(L(),k(),b.isActive()&&S())}),h.on("click.ja_slideshow",function(){b.isActive()&&(L(),E(),b.isActive()&&S())}),"dots"===i.showCounter&&d.on("click.ja_slideshow",".ja_slideshow_dot",function(){if(!b.isActive())return;const t=parseInt(e(this).data("slide"));t!==p&&(L(),x(t),b.isActive()&&S())}),i.showThumbnails&&u.length>0&&(!function(t){const o=t[0];if(!o)return;let n=!1,i=0,s=0,a=!1;const l=8;t.on("mousedown",function(e){n=!0,a=!1,i=e.pageX,s=o.scrollLeft,t.addClass("dragging"),e.preventDefault()}),e(document).on("mousemove.thumbnail-drag",function(e){if(!n)return;const t=e.pageX;if(Math.abs(t-i)>l){e.preventDefault(),a=!0;const n=1.5*(t-i);o.scrollLeft=s-n}}),e(document).on("mouseup.thumbnail-drag",function(){n&&(n=!1,t.removeClass("dragging"),a&&(t.data("was-dragging",!0),setTimeout(()=>{t.removeData("was-dragging")},100)))});let r=0,d=0,c=!1;const u=15;t[0].addEventListener("touchstart",function(e){c=!1,r=e.touches[0].clientX,d=o.scrollLeft},{passive:!0}),t[0].addEventListener("touchmove",function(e){const t=e.touches[0].clientX,n=r-t;Math.abs(n)>u&&(c=!0,o.scrollLeft=d+n)},{passive:!0}),t.on("touchend",function(){c&&(t.data("was-dragging",!0),setTimeout(()=>{t.removeData("was-dragging")},100))}),t.data("cleanup-drag",function(){e(document).off("mousemove.thumbnail-drag mouseup.thumbnail-drag")})}(u),u.on("click.ja_slideshow",".ja_slideshow_thumbnail",function(t){if(!b.isActive())return;if(u.data("was-dragging"))return t.preventDefault(),t.stopPropagation(),!1;const o=parseInt(e(this).data("slide"));o!==p&&(L(),x(o),b.isActive()&&S())})),!1!==i.keyboardNav&&e(document).on("keydown.ja_slideshow_"+o.id,function(e){b.isActive()&&(37===e.keyCode?(L(),E(),b.isActive()&&S()):39===e.keyCode&&(L(),k(),b.isActive()&&S()))});let O,T,z=0,H=0;O=function(e){z=e.touches[0].clientX},T=function(e){H=e.changedTouches[0].clientX,function(){const e=50,t=z-H;Math.abs(t)>e&&(t>0?(L(),k(),S()):(L(),E(),S()))}()},a[0].addEventListener("touchstart",O,{passive:!0}),a[0].addEventListener("touchend",T,{passive:!0}),i.pauseOnHover&&(a.on("mouseenter.ja_slideshow",function(){L()}),a.on("mouseleave.ja_slideshow",function(){S()})),t.data("slideshow",{slides:m,loadSlide:x,stopAutoAdvance:L,startAutoAdvance:S,getCurrentSlide:()=>p+1,getTotalSlides:()=>m.length,slideshowOptions:i}),S();const B=t.data("jAlert");if(B){Array.isArray(B.onClose)||(B.onClose=[]);const t=B.onClose;B.onClose=function(n){j.emit("beforeClose",n),b.markClosing(),L(),e(document).off("keydown.ja_slideshow_"+o.id),e(window).off("resize.ja_slideshow_"+o.id),y&&(clearTimeout(y),y=null);const s=n.find(".ja_slideshow_slide").data("timers");if(s&&Array.isArray(s)&&s.forEach(e=>clearTimeout(e)),f.off("click.ja_slideshow"),h.off("click.ja_slideshow"),d&&d.length>0&&d.off("click.ja_slideshow"),u&&u.length>0){u.off("click.ja_slideshow");const e=u.data("cleanup-drag");"function"==typeof e&&e()}if(l.off("click.slideshow"),a&&a.length>0){a.off("mouseenter.ja_slideshow mouseleave.ja_slideshow");const e=a[0];e&&O&&T&&(e.removeEventListener("touchstart",O),e.removeEventListener("touchend",T))}i&&(i.onSlideChange=null,i.onBeforeSlideChange=null,i.onSlideshowEnd=null,i.onSlideshowLoop=null,i.onContentLoad=null),n.removeData("slideshow"),b.markClosed(),j.emit("afterClose",n),"function"==typeof t&&t(n)}}}),n}if(t.image){let e=o+"<img src='"+t.image+"' class='ja_img' onload='$.fn.jAlert.mediaLoaded($(this))'";return t.imageWidth&&(e+=" style='width: "+t.imageWidth+"'"),e+=">",t.onOpen.unshift(function(e){const t=e.find(".ja_img"),o=e.data("jAlert");t.on("load",function(){e.find(".ja_loader").remove(),e.find(".ja_body").removeClass("ja_loading"),!o||!o.size||o.size}),t.on("error",function(){e.find(".ja_loader").remove(),e.find(".ja_body").removeClass("ja_loading"),e.find(".ja_body").addClass("ja_error").append('<div class="ja_img_error">Failed to load image</div>')})}),e}if(t.video){const n="iframe"===t.video.embedType?o:o+"<div class='ja_video'></div>";return t.onOpen.unshift(function(o){if("iframe"===t.video.embedType){const t=s.createIframeVideo(o.jAlert().video,{onLoad:function(t,n){o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(t))},onError:function(t,n){o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(t))}});o.find(".ja_body").append(t.container)}else{const t=s.createHtml5Video(o.jAlert().video,{onLoad:function(t,n){o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(t))},onError:function(t,n){o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(t))}});o.find(".ja_video").replaceWith(t.container)}}),n}if(t.iframe){const n=o;return t.onOpen.unshift(function(t){const o=document.createElement("iframe");t.jAlert().iframe.trim().startsWith("<")?(o.srcdoc=t.jAlert().iframe,o.setAttribute("data-is-srcdoc","true")):o.src=t.jAlert().iframe,o.className="ja_iframe",o.addEventListener?o.addEventListener("load",function(){t.find(".ja_loader").remove(),t.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(this))},!0):o.attachEvent?o.attachEvent("onload",function(){t.find(".ja_loader").remove(),t.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(this))}):o.onload=function(){t.find(".ja_loader").remove(),t.find(".ja_body").removeClass("ja_loading"),e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_body").append(o)}),n}if(t.ajax){const n=o,i=t.onOpen;return t.onOpen=[function(o){e.ajax(o.jAlert().ajax,{async:!0,complete:function(e,t){o.find(".ja_loader").remove(),o.find(".ja_body").append(e.responseText),i.forEach(function(e){e(o)})},error:function(e,n,i){o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading"),t.onAjaxFail(o,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}],n}return null},getBtnHTML(t,o){t.href=t.href||"",t.class=t.class||"",t.theme=t.theme||"default",t.text=t.text||"",t.id=t.id||"ja_btn_"+s.generateId(),t.target=t.target||"_self",t.closeAlert=!1!==t.closeAlert,t.ariaLabel=t.ariaLabel||t.text;let n="";const i=t.class.trim();return""!==i&&!i.match(/^(confirmBtn|denyBtn)$/)?n=i:(n="ja_btn ja_btn_"+t.theme,""!==i&&(n+=" "+i)),e("body").off("click","#"+t.id),e("body").on("click","#"+t.id,function(o){const n=e(this),i=n.parents(".jAlert").jAlert();t.closeAlert&&i.closeAlert();let s=!0;return"function"==typeof t.onClick&&(s=t.onClick(o,n,i)),!s||t.closeAlert?(o.preventDefault(),!1):s}),t.href?"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='"+n+"' aria-label='"+t.ariaLabel+"'>"+t.text+"</a> ":"<button type='button' id='"+t.id+"' class='"+n+"' aria-label='"+t.ariaLabel+"'>"+t.text+"</button> "},createAlertHTML(e,t){const o=["animated","ja_"+e.theme],n=[],i=["ja_wrap_"+e.backgroundColor];e.class&&o.push(e.class),e.classes&&o.push(e.classes),"full"===e.size&&(e.fullscreen=!0),e.fullscreen&&o.push("ja_fullscreen"),e.noPadContent&&o.push("ja_no_pad"),e.title||o.push("ja_noTitle");const a=s.getSizeClasses(e.size),l=s.getSizeStyles(e.size,e);o.push(...a),n.push(...l),e.iframe&&!e.iframeHeight&&"auto"!==e.size&&o.push("ja_stretch_height"),(e.image||e.video||e.iframe)&&o.push("ja_media_modal"),e.slideshow&&o.push("ja_slideshow_modal");let r='<div class="ja_wrap '+i.join(" ")+'" role="dialog" aria-modal="true" aria-labelledby="'+e.id+'_title" aria-describedby="'+e.id+'_content"><div class="jAlert '+o.join(" ")+'" style="'+n.join(" ")+'" id="'+e.id+'" tabindex="-1">';return e.title?(r+="<div class='ja_title' id='"+e.id+"_title'>",e.closeBtn&&(r+="<button type='button' class='closejAlert ja_close",e.closeBtnAlt?r+=" ja_close_alt":e.closeBtnRoundWhite?r+=" ja_close_round_white":e.closeBtnRound&&(r+=" ja_close_round"),r+="' aria-label='Close dialog'><span class='ja_close_x'>&times;</span></button>"),r+="<div>"+e.title+"</div></div>"):e.closeBtn&&(r+="<button type='button' class='closejAlert ja_close",e.closeBtnAlt?r+=" ja_close_alt":e.closeBtnRoundWhite?r+=" ja_close_round_white":e.closeBtnRound&&(r+=" ja_close_round"),r+="' aria-label='Close dialog'><span class='ja_close_x'>&times;</span></button>"),r+='<div class="ja_body" id="'+e.id+'_content">'+t,e.btns&&(r+='<div class="ja_btn_wrap ',e.btnBackground&&(r+="optBack"),r+='">',Array.isArray(e.btns)?e.btns.forEach(function(t){"object"==typeof t&&(r+=s.getBtnHTML(t,e))}):"object"==typeof e.btns?r+=s.getBtnHTML(e.btns,e):console.warn("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+e.btns),r+="</div>"),r+="</div></div></div>",r}};class a{constructor(e){this.options=e,this.id=e.id||s.generateId(),this.instance=null,Object.keys(e).forEach(t=>{this[t]=e[t]})}set(e,t){return this[e]=t,this}__set(e,t){return this.set(e,t)}get(e){return this[e]}__get(e){return this.get(e)}animateAlert(t){if(!this.instance||!this.instance.data("jAlert"))return this;const o=this.instance.data("jAlert");return o?("hide"===t?(o&&o.blurBackground&&e("body").removeClass("ja_blur"),this.instance.removeClass(this.showAnimation).addClass(this.hideAnimation)):(o&&o.blurBackground&&e("body").addClass("ja_blur"),this.instance.addClass(this.showAnimation).removeClass(this.hideAnimation).show()),this):this}closeAlert(t=!0,o){return this.instance&&this.instance.data("jAlert")&&(this._autoResizeObserver&&(this._autoResizeObserver.disconnect(),this._autoResizeObserver=null),"function"==typeof o?o(this.instance):"function"==typeof this.onClose&&this.onClose(this.instance),this.animateAlert("hide"),window.setTimeout(()=>{const o=this.instance.parents(".ja_wrap");t?o.remove():o.hide(),0===e(".jAlert:visible").length&&e("html,body").css("overflow","")},this.animationTimeout)),this}showAlert(t=!0,o=!0,n,i){t&&e(".jAlert:visible").each(function(){const t=e(this).data("jAlert");t&&"function"==typeof t.closeAlert&&t.closeAlert(o)});const s=this.instance.parents(".ja_wrap");return e("body").append(s),this.animateAlert("show"),"function"==typeof i&&(this.onClose=i),window.setTimeout(()=>{"function"==typeof n&&n(this.instance)},this.animationTimeout),this}resizeModal(e,t){if(!this.instance)return console.warn("jAlert: Cannot resize modal that is not currently displayed"),this;const o=this.instance.find(".ja_body");let n=e,i=t;if(t)o.css("height","number"==typeof t?t+"px":t),i=t;else{const e=o.children().outerHeight();i=e,o.css("height",e+"px")}return t&&(this.size={height:"number"==typeof t?t+"px":t}),"function"==typeof this.onResize&&this.onResize(this.instance,n,i),this}autoResize(){if(!this.instance)return this;const e=this.instance.find(".ja_body"),t=e.children().outerHeight();return e.css("height",t+"px"),"function"==typeof this.onResize&&this.onResize(this.instance,null,t),this}resizeToFit(){return this.autoResize()}switchSlide(e){if(!this.instance)return console.warn("jAlert: Cannot switch slide - modal not initialized"),this;const t=this.instance.data("slideshow");if(!t)return console.warn("jAlert: Cannot switch slide - no slideshow found"),this;const{slides:o,loadSlide:n,stopAutoAdvance:i,startAutoAdvance:s}=t,a=e-1;return a<0||a>=o.length?(console.warn(`jAlert: Invalid slide number ${e}. Valid range: 1-${o.length}`),this):(i(),n(a),s(),this)}}e.fn.jAlert=function(t){if(e("body").focus().blur(),this.length>1)return this.each(function(){e.fn.jAlert(t)}),this;if(void 0!==e(this)[0]&&"undefined"!==e(this)[0].jAlert)return e(this)[0].jAlert;t=s.normalizeOptions(t);t.video?("string"==typeof t.video&&(t.video={src:t.video}),void 0===t.video.embedType&&(t.video.src.includes("youtube.com")||t.video.src.includes("vimeo.com")?(t.video.embedType="iframe",t.video.src=s.processIframeVideoUrl(t.video)):t.video.embedType="html5"),t.video={...e.fn.jAlert.videoDefaults,...t.video},t.image=void 0,t.slideshow=void 0,t.iframe=void 0):t.image?(t.video=void 0,t.slideshow=void 0,t.iframe=void 0):t.slideshow?(Array.isArray(t.slideshow)||(t.slideshow=[t.slideshow]),t.slideshow=t.slideshow.map(t=>("string"==typeof t&&(t={src:t}),void 0===t.type&&(t.type="image",t.src&&(t.src.includes("youtube.com")||t.src.includes("vimeo.com")||t.src.includes(".mp4")||t.src.includes(".webm")||t.src.includes(".ogg"))&&(t.type="video")),"video"===t.type&&void 0===t.embedType&&(t.src&&(t.src.includes("youtube.com")||t.src.includes("vimeo.com"))?(t.embedType="iframe",t.src=s.processIframeVideoUrl(t)):t.embedType="html5"),"video"===t.type&&(t={...e.fn.jAlert.videoDefaults,...t}),t)),t.video=void 0,t.image=void 0,t.iframe=void 0):t.iframe&&(t.video=void 0,t.image=void 0,t.slideshow=void 0),(t.video||t.image||t.slideshow||t.iframe)&&void 0===t.noPadContent&&(t.noPadContent=!0),(t.video||t.image||t.slideshow)&&void 0===t.size&&(t.size="auto"),(t=e.extend({},e.fn.jAlert.defaults,t)).slideshowOptions&&e.fn.jAlert.defaults.slideshowOptions&&(t.slideshowOptions=e.extend({},e.fn.jAlert.defaults.slideshowOptions,t.slideshowOptions));const o=t.id||s.generateId();t.id=o;const n=new a(t);n.content=s.processContent(n.content,n),n.picture&&(n.image=n.picture),n.color&&(n.theme=n.color),n.width&&(n.size=n.width),n.buttons&&(n.btns=n.buttons),"confirm"===n.type&&s.setupConfirmButtons(n),s.validateTheme(n.theme)||(n.theme="default"),s.validateSize(n.size)||(n.size="md"),s.validateBackgroundColor(n.backgroundColor)||(n.backgroundColor="black"),n.onOpen=Array.isArray(n.onOpen)?n.onOpen:[n.onOpen];let i=n.content||"";const l=s.createMediaContent(n);l&&(i=l);const r=()=>{const t=s.createAlertHTML(n,i),o=e(t);return n.replaceOtherAlerts&&e(".jAlert:visible").each(function(){e(this).jAlert().closeAlert()}),e("body").append(o),e(".jAlert:last").data("jAlert",n),n.instance=e("#"+n.id),n.instance[0].jAlert=n,e("html,body").css("overflow","hidden"),n.animateAlert("show"),n.closeBtn&&n.instance.on("click",".closejAlert",function(t){return t.preventDefault(),e(this).parents(".jAlert:first").closeAlert(),!1}),n.closeOnClick&&(e(document).off("mouseup touchstart",e.fn.jAlert.onMouseUp),e(document).on("mouseup touchstart",e.fn.jAlert.onMouseUp)),n.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),n.onOpen&&n.onOpen.forEach(function(e){e(n.instance)}),n.autofocus?n.instance.find(n.autofocus).focus():n.instance.focus(),n.autoClose&&e.fn.closeTimer(function(){const t=e.jAlert("current");!1!==t&&t.closeAlert()},n.autoClose),n.instance};return n.content||n.image||n.video||n.iframe||n.ajax||n.slideshow?(n.content||(n.content=""),r()):r()},e.fn.jAlert.Alert=a,e.fn.closeTimer=function(){let e=0;return function(t,o){clearTimeout(e),e=setTimeout(t,o)}}(jQuery),e.fn.jAlert.videoDefaults={controls:!0,loop:!1,autoplay:!1,muted:!1},e.fn.jAlert.defaults={title:!1,content:!1,noPadContent:!1,fullscreen:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){const o=e;o&&o.find?(o.find(".ja_loader").remove(),o.find(".ja_body").removeClass("ja_loading").addClass("ja_error").html('<div class="ja_ajax_error">Failed to load content: '+t+"</div>")):console.error("jAlert AJAX Error:",t)},iframe:!1,iframeHeight:!1,slideshow:!1,slideshowOptions:{autoAdvance:!1,autoAdvanceInterval:3e3,keyboardNav:!0,pauseOnHover:!1,imageSize:"contain",loop:!0,showArrows:!0,showCounter:"numbers",arrowButtons:null,showThumbnails:!1,thumbnailLocation:"bottom",preload:!0,onSlideChange:null,onSlideshowEnd:null,onSlideshowLoop:null,onBeforeSlideChange:null,onContentLoad:null},class:"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",blurBackground:!1,size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,closeBtnRoundWhite:!1,btns:!1,autoClose:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},onResize:function(e,t,o){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),!1},onDeny:function(e,t){return e.preventDefault(),!1}},e.fn.jAlert.onMouseUp=function(t){const o=t.target||t.srcElement,n=e(".jAlert:visible:last");if(n.length>0){const t=n.data("jAlert");t&&t.closeOnClick&&(e(o).is(".jAlert *")||t.closeAlert())}},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){const t=e(".jAlert:visible:last");if(t.length>0){const e=t.data("jAlert");e&&e.closeOnEsc&&e.closeAlert()}}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"===t){const t=e(".jAlert:visible:last");return t.length>0&&t.data("jAlert")}return"attach"===t?(e("[data-jAlert]").off("click",e.fn.attachjAlert).on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert).on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",function(o){return o.preventDefault(),e.jAlert(t),!1})},e.alertOnClick=function(t,o){e("body").on("click",t,function(t){return t.preventDefault(),e.jAlert(o),!1})},e.fn.closeAlert=function(t,o){const n=e(this).data("jAlert");n&&"function"==typeof n.closeAlert&&n.closeAlert(t,o)},e.fn.jAlert.mediaLoaded=function(e){const t=e.parents(".ja_body"),o=t.find(".ja_video"),n=e.parents(".jAlert:first").data("jAlert");if(t.find(".ja_loader").remove(),o.length>0?o.fadeIn("fast"):e.fadeIn("fast"),e.is("iframe")||e.hasClass("ja_video_element")){const t=e.hasClass("ja_video_element"),o=e.is("iframe");let i=!1;if(t){const t=e.parents(".ja_video");i=t&&t.length>0&&"0px"!==t.css("padding-bottom")&&"relative"===t.css("position")}else if(o){const t=e.parent();t.length>0&&"0px"!==t.css("padding-bottom")&&"relative"===t.css("position")&&"0px"===t.css("height")&&n&&n.video&&(i=!0)}if(i)return;if(!t&&n.iframeHeight)e.css("flex","unset"),e.height(n.iframeHeight);else if(n&&"auto"===n.size&&!n.video){const t=n.instance,o=t.find(".ja_title"),i=t.find(".ja_btn_wrap"),s=t.find(".ja_body"),a=window.innerHeight,l=window.innerWidth;let r=40;o.length&&o.is(":visible")&&(r+=o.outerHeight(!0)),i.length&&i.is(":visible")&&(r+=i.outerHeight(!0));r+=(parseInt(s.css("padding-top"))||0)+(parseInt(s.css("padding-bottom"))||0);const d=Math.max(300,a-r),c=Math.min(.9*l,1200);setTimeout(()=>{try{const t=e[0].contentDocument||e[0].contentWindow.document;if(!t||!t.body)throw new Error("Content document not accessible");setTimeout(()=>{const o={bodyScrollHeight:t.body.scrollHeight,bodyOffsetHeight:t.body.offsetHeight,bodyClientHeight:t.body.clientHeight,bodyScrollWidth:t.body.scrollWidth,bodyOffsetWidth:t.body.offsetWidth,bodyClientWidth:t.body.clientWidth,documentClientHeight:t.documentElement.clientHeight,documentScrollHeight:t.documentElement.scrollHeight,documentOffsetHeight:t.documentElement.offsetHeight,documentScrollWidth:t.documentElement.scrollWidth,documentOffsetWidth:t.documentElement.offsetWidth,documentClientWidth:t.documentElement.clientWidth},n=Math.max(o.bodyScrollHeight,o.bodyOffsetHeight,o.documentScrollHeight,o.documentOffsetHeight),i=Math.max(o.bodyScrollWidth,o.bodyOffsetWidth,o.documentScrollWidth,o.documentOffsetWidth);if(n>0&&n<1e4&&i>0&&i<1e4){const t=Math.min(.95*l,1400),o=n>d?d:n,s=i>t?t:i;return void e.css({flex:"unset",width:s+"px",height:o+"px"})}throw new Error(`Invalid content dimensions: ${i}x${n}`)},50)}catch(t){e.css({flex:"unset",width:c+"px",height:d+"px"}),n.instance&&n.instance.removeClass("ja_stretch_height")}},100)}}if(n){const t=n.slideshowOptions&&n.slideshowOptions.onContentLoad||n.onContentLoad;if("function"==typeof t){let i="unknown";e.is("img")?i="image":e.hasClass("ja_video_element")?i="video":e.is("iframe")&&(i=o.length>0?"video":"iframe"),t(n.instance,i,e)}}},e.fn.resizeModal=function(e){const t=this.data("jAlert");return t&&"function"==typeof t.resizeModal?t.resizeModal(null,e):this},e.resizeModal=function(t){const o=e.jAlert("current");return!1!==o&&o.resizeModal(null,t)},e.fn.autoResize=function(){const e=this.data("jAlert");return e&&"function"==typeof e.autoResize?e.autoResize():this},e.fn.resizeToFit=function(){const e=this.data("jAlert");return e&&"function"==typeof e.resizeToFit?e.resizeToFit():this},e.autoResize=function(){const t=e.jAlert("current");return!1!==t&&t.autoResize()},e.resizeToFit=function(){const t=e.jAlert("current");return!1!==t&&t.resizeToFit()},e.fn.switchSlide=function(e){const t=this.data("jAlert");return t&&"function"==typeof t.switchSlide?t.switchSlide(e):this},e.switchSlide=function(t){const o=e.jAlert("current");return!1!==o&&o.switchSlide(t)}}(jQuery),t}()});