!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jAlert=t():e.jAlert=t()}(this,()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};return e.r(t),function(e){Date.now||(Date.now=function(){return+new Date});const t=["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow"],n=["xsm","sm","md","lg","xlg","full","auto"],o={xsmall:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},i=["white","black"],s={generateId:()=>"ja_"+Date.now().toString()+Math.floor(1e5*Math.random()),isElement:e=>e&&e.jquery,normalizeOptions(t){const n={};return Object.keys(e.fn.jAlert.defaults).forEach(e=>{const o=e.toLowerCase();void 0!==t[o]&&(n[e]=t[o])}),{...n,...t}},processContent(t,n){if(t&&0===t.indexOf("#")){const n=e(t);if(n.length>0)return n.html()}return s.isElement(t)?t.html():t},processVideoUrl:e=>e&&e.indexOf("youtube.com/watch?v=")>-1&&-1===e.indexOf("embed")?e.replace("watch?v=","embed/"):e,setupConfirmButtons(e){e.content||(e.content=e.confirmQuestion),e.btns=[{text:e.confirmBtnText,theme:"green",class:"confirmBtn",closeAlert:!0,onClick:e.onConfirm},{text:e.denyBtnText,theme:"red",class:"denyBtn",closeAlert:!0,onClick:e.onDeny}],e.autofocus=e.confirmAutofocus},validateTheme:e=>-1!==t.indexOf(e)||(console.log("jAlert Config Error: Invalid theme selection."),!1),validateSize:e=>!e||"object"!=typeof e||void 0!==e.width&&void 0!==e.height||(console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1),validateBackgroundColor:e=>-1!==i.indexOf(e)||(console.log("jAlert Config Error: Invalid background color selection."),!1),getSizeClasses(e){const t=[];return e?"object"==typeof e||(void 0!==o[e]&&(e=o[e]),n.indexOf(e)>-1&&t.push("ja_"+e)):t.push("ja_sm"),t},getSizeStyles(e){const t=[];return e&&"object"==typeof e?(t.push(`width: ${e.width};`),t.push(`height: ${e.height};`)):e&&"string"==typeof e&&-1===n.indexOf(e)&&void 0===o[e]&&t.push(`width: ${e};`),t},createMediaContent(t){const n="<div class='ja_loader'>Loading...</div>";if(t.slideshow){t.noPadContent=!0;let o="<div class='ja_media_wrap ja_slideshow_wrap'>"+n+"<div class='ja_slideshow_container'><div class='ja_slideshow_slide'></div>";return t.slideshowOptions&&!1!==t.slideshowOptions.showArrows&&(o+="<button class='ja_slideshow_arrow ja_slideshow_prev'>&lt;</button><button class='ja_slideshow_arrow ja_slideshow_next'>&gt;</button>"),o+="</div>",t.slideshowOptions&&t.slideshowOptions.showCounter&&("dots"===t.slideshowOptions.showCounter?o+="<div class='ja_slideshow_dots'></div>":"numbers"===t.slideshowOptions.showCounter&&(o+="<div class='ja_slideshow_counter'>1 / 1</div>")),o+="</div>",t.onOpen.unshift(function(t){const n=t.data("jAlert").slideshow,o=t.data("jAlert").slideshowOptions||{},i=t.find(".ja_slideshow_container"),s=t.find(".ja_slideshow_slide"),a=t.find(".ja_slideshow_counter"),l=t.find(".ja_slideshow_dots"),r=t.find(".ja_slideshow_prev"),c=t.find(".ja_slideshow_next");let d=[],u=0,f=null,h=0;if(Array.isArray(n))d=n.map((e,t)=>({type:"image",src:e,index:t}));else if("string"==typeof n){const t=e(n).find(".ja_slide, .slide, [data-slide]");d=t.map(function(t){const n=e(this),o=n.find("img").first();return{type:"image",src:o.attr("src")||o.attr("data-src"),caption:n.find(".caption, .slide-caption").text()||o.attr("alt")||"",index:t}}).get()}if(0!==d.length){if(h=d.length,"dots"===o.showCounter){let e="";for(let t=0;t<d.length;t++)e+='<span class="ja_slideshow_dot" data-slide="'+t+'"></span>';l.html(e)}c.on("click",function(){g(),j(),A()}),r.on("click",function(){g(),p(),A()}),"dots"===o.showCounter&&l.on("click",".ja_slideshow_dot",function(){const t=parseInt(e(this).data("slide"));t!==u&&(g(),m(t),A())}),!1!==o.keyboardNav&&e(document).on("keydown.ja_slideshow",function(e){37===e.keyCode?(g(),p(),A()):39===e.keyCode&&(g(),j(),A())}),o.pauseOnHover&&i.hover(function(){g()},function(){A()}),m(0),A(),t.data("jAlert").onClose=function(){g(),e(document).off("keydown.ja_slideshow")}}else s.html("<p>No slides found</p>");function m(n){if(n<0||n>=d.length)return;u=n;const i=d[n];if("image"===i.type){const n=e("<img>",{src:i.src,class:"ja_img ja_slideshow_img",alt:i.caption||""});if(s.html(n),"fitLargest"===o.resizeMode){let e=0,n=0,o=0;d.forEach((i,s)=>{const a=new Image;a.onload=function(){if(e=Math.max(e,this.width),n=Math.max(n,this.height),o++,o===d.length){const o=.9*(window.innerWidth||document.documentElement.clientWidth),i=.9*(window.innerHeight||document.documentElement.clientHeight);let s=e,a=n;if(s>o){const e=o/s;s=o,a*=e}if(a>i){const e=i/a;a=i,s*=e}t.css("width",s+"px"),t.css("height",a+"px")}},a.src=i.src})}else n.on("load",function(){const e=.9*(window.innerWidth||document.documentElement.clientWidth),n=.9*(window.innerHeight||document.documentElement.clientHeight);let o=this.width,i=this.height;if(o>e){const t=e/o;o=e,i*=t}if(i>n){const e=n/i;i=n,o*=e}t.css("width",o+"px"),t.css("height",i+"px")});i.caption&&s.append('<div class="ja_slideshow_caption">'+i.caption+"</div>"),n.on("load",function(){t.find(".ja_loader").remove()})}"numbers"===o.showCounter?a.text(`${u+1} / ${d.length}`):"dots"===o.showCounter&&(l.find(".ja_slideshow_dot").removeClass("active"),l.find('.ja_slideshow_dot[data-slide="'+u+'"]').addClass("active")),o.loop?(r.removeClass("disabled"),c.removeClass("disabled")):(r.toggleClass("disabled",0===u),c.toggleClass("disabled",u===d.length-1))}function j(){u<d.length-1?m(u+1):o.loop&&m(0)}function p(){u>0?m(u-1):o.loop&&m(d.length-1)}function A(){o.autoAdvance&&o.autoAdvanceInterval&&(f=setInterval(j,o.autoAdvanceInterval))}function g(){f&&(clearInterval(f),f=null)}}),o}if(t.image){t.noPadContent=!0;let e="<div class='ja_media_wrap'>"+n+"<img src='"+t.image+"' class='ja_img' onload='$.fn.jAlert.mediaLoaded($(this))'";return t.imageWidth&&(e+=" style='width: "+t.imageWidth+"'"),e+="></div>",t.onOpen.unshift(function(e){const t=e.find(".ja_img");t.on("load",function(){e.css("width",t.width()+"px"),e.css("height",t.height()+"px")})}),e}if(t.video){const o="<div class='ja_media_wrap'>"+n+"<div class='ja_video'></div></div>";return t.onOpen.unshift(function(t){const n=document.createElement("iframe");n.src=t.data("jAlert").video,n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_video").append(n)}),o}if(t.iframe){const o="<div class='ja_media_wrap'>"+n+"</div>";return t.onOpen.unshift(function(t){const n=document.createElement("iframe");n.src=t.jAlert().iframe,n.className="ja_iframe",n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_media_wrap").append(n)}),o}if(t.ajax){const o="<div class='ja_media_wrap'>"+n+"</div>",i=t.onOpen;return t.onOpen=[function(n){e.ajax(n.jAlert().ajax,{async:!0,complete:function(e,t){n.find(".ja_media_wrap").replaceWith(e.responseText),i.forEach(function(e){e(n)})},error:function(e,o,i){t.onAjaxFail(n,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}],o}return null},getBtnHTML:(t,n)=>(t.href=t.href||"",t.class=t.class||"",t.theme=t.theme||"default",t.class+=" ja_btn_"+t.theme,t.text=t.text||"",t.id=t.id||"ja_btn_"+s.generateId(),t.target=t.target||"_self",t.closeAlert=!1!==t.closeAlert,e("body").off("click","#"+t.id),e("body").on("click","#"+t.id,function(n){const o=e(this),i=o.parents(".jAlert").jAlert();t.closeAlert&&i.closeAlert();let s=!0;return"function"==typeof t.onClick&&(s=t.onClick(n,o,i)),!s||t.closeAlert?(n.preventDefault(),!1):s}),"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='ja_btn "+t.class+"'>"+t.text+"</a> "),createAlertHTML(e,t){const n=["animated","ja_"+e.theme],o=[],i=["ja_wrap_"+e.backgroundColor];e.class&&n.push(e.class),e.classes&&n.push(e.classes),e.fullscreen&&n.push("ja_fullscreen"),e.noPadContent&&n.push("ja_no_pad"),e.title||n.push("ja_noTitle");const a=s.getSizeClasses(e.size),l=s.getSizeStyles(e.size);n.push(...a),o.push(...l),e.iframe&&!e.iframeHeight&&n.push("ja_stretch_height");let r='<div class="ja_wrap '+i.join(" ")+'"><div class="jAlert '+n.join(" ")+'" style="'+o.join(" ")+'" id="'+e.id+'"><div>';return e.closeBtn&&(r+="<div class='closejAlert ja_close",e.closeBtnAlt?r+=" ja_close_alt":e.closeBtnRoundWhite?r+=" ja_close_round_white":e.closeBtnRound&&(r+=" ja_close_round"),r+="'>&times;</div>"),e.title&&(r+="<div class='ja_title'><div>"+e.title+"</div></div>"),r+='<div class="ja_body">'+t,e.btns&&(r+='<div class="ja_btn_wrap ',e.btnBackground&&(r+="optBack"),r+='">',Array.isArray(e.btns)?e.btns.forEach(function(t){"object"==typeof t&&(r+=s.getBtnHTML(t,e))}):"object"==typeof e.btns?r+=s.getBtnHTML(e.btns,e):console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+e.btns),r+="</div>"),r+="</div></div></div></div>",r}};class a{constructor(e){this.options=e,this.id=e.id||s.generateId(),this.instance=null,Object.keys(e).forEach(t=>{this[t]=e[t]})}set(e,t){return this[e]=t,this}__set(e,t){return this.set(e,t)}get(e){return this[e]}__get(e){return this.get(e)}animateAlert(t){return"hide"===t?(this.instance.data("jAlert").blurBackground&&e("body").removeClass("ja_blur"),this.instance.removeClass(this.showAnimation).addClass(this.hideAnimation)):(this.instance.data("jAlert").blurBackground&&e("body").addClass("ja_blur"),this.instance.addClass(this.showAnimation).removeClass(this.hideAnimation).show()),this}closeAlert(t=!0,n){return this.instance&&(this.animateAlert("hide"),window.setTimeout(()=>{const o=this.instance.parents(".ja_wrap");t?o.remove():o.hide(),"function"==typeof n?n(this.instance):"function"==typeof this.onClose&&this.onClose(this.instance),0===e(".jAlert:visible").length&&e("html,body").css("overflow","")},this.animationTimeout)),this}showAlert(t=!0,n=!0,o,i){t&&e(".jAlert:visible").data("jAlert").jAlert().closeAlert(n);const s=this.instance.parents(".ja_wrap");return e("body").append(s),this.animateAlert("show"),"function"==typeof i&&(this.onClose=i),window.setTimeout(()=>{"function"==typeof o&&o(this.instance)},this.animationTimeout),this}}e.fn.jAlert=function(t){if(e("body").focus().blur(),this.length>1)return this.each(function(){e.fn.jAlert(t)}),this;if(void 0!==e(this)[0]&&"undefined"!==e(this)[0].jAlert)return e(this)[0].jAlert;t=s.normalizeOptions(t),(t=e.extend({},e.fn.jAlert.defaults,t)).slideshowOptions&&e.fn.jAlert.defaults.slideshowOptions&&(t.slideshowOptions=e.extend({},e.fn.jAlert.defaults.slideshowOptions,t.slideshowOptions));const n=t.id||s.generateId();t.id=n;const o=new a(t);if(o.content=s.processContent(o.content,o),o.video&&(o.video=s.processVideoUrl(o.video)),o.picture&&(o.image=o.picture),o.color&&(o.theme=o.color),o.width&&(o.size=o.width),"confirm"===o.type&&s.setupConfirmButtons(o),!s.validateTheme(o.theme)||!s.validateSize(o.size)||!s.validateBackgroundColor(o.backgroundColor))return!1;o.onOpen=Array.isArray(o.onOpen)?o.onOpen:[o.onOpen];let i=o.content||"";const l=s.createMediaContent(o);l&&(i=l);const r=()=>{const t=s.createAlertHTML(o,i),n=e(t);return o.replaceOtherAlerts&&e(".jAlert:visible").each(function(){e(this).jAlert().closeAlert()}),e("body").append(n),e(".jAlert:last").data("jAlert",o),o.instance=e("#"+o.id),o.instance[0].jAlert=o,e("html,body").css("overflow","hidden"),o.animateAlert("show"),o.closeBtn&&o.instance.on("click",".closejAlert",function(t){return t.preventDefault(),e(this).parents(".jAlert:first").closeAlert(),!1}),o.closeOnClick&&(e(document).off("mouseup touchstart",e.fn.jAlert.onMouseUp),e(document).on("mouseup touchstart",e.fn.jAlert.onMouseUp)),o.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),o.onOpen&&o.onOpen.forEach(function(e){e(o.instance)}),o.autofocus?o.instance.find(o.autofocus).focus():o.instance.focus(),o.autoClose&&e.fn.closeTimer(function(){const t=e.jAlert("current");!1!==t&&t.closeAlert()},o.autoClose),o.instance};return o.content||o.image||o.video||o.iframe||o.ajax?(o.content||(o.content=""),r()):(console.log("jAlert potential error: No content defined"),r())},e.fn.closeTimer=function(){let e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(jQuery),e.fn.jAlert.defaults={title:!1,content:!1,noPadContent:!1,fullscreen:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){e.jAlert().closeAlert(),"function"==typeof errorAlert&&errorAlert(t)},iframe:!1,iframeHeight:!1,slideshow:!1,slideshowOptions:{autoAdvance:!1,autoAdvanceInterval:3e3,keyboardNav:!0,pauseOnHover:!1,resizeMode:"fitCurrent",loop:!0,showArrows:!0,showCounter:"numbers",arrowButtons:null},class:"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",blurBackground:!1,size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,closeBtnRoundWhite:!1,btns:!1,autoClose:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),console.log("confirmed"),!1},onDeny:function(e,t){return e.preventDefault(),!1}},e.fn.jAlert.onMouseUp=function(t){const n=t.target||t.srcElement,o=e(".jAlert:visible:last");o.length>0&&o.data("jAlert").closeOnClick&&(e(n).is(".jAlert *")||o.data("jAlert").closeAlert())},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){const t=e(".jAlert:visible:last");t.length>0&&t.data("jAlert").closeOnEsc&&t.data("jAlert").closeAlert()}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"===t){const t=e(".jAlert:visible:last");return t.length>0&&t.data("jAlert")}return"attach"===t?(e("[data-jAlert]").off("click",e.fn.attachjAlert).on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert).on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",function(n){return n.preventDefault(),e.jAlert(t),!1})},e.alertOnClick=function(t,n){e("body").on("click",t,function(t){return t.preventDefault(),e.jAlert(n),!1})},e.fn.closeAlert=function(t,n){e(this).data("jAlert")&&e(this).data("jAlert").closeAlert(t,n)},e.fn.jAlert.mediaLoaded=function(e){const t=e.parents(".ja_media_wrap"),n=t.find(".ja_video"),o=e.parents(".jAlert:first").data("jAlert");t.find(".ja_loader").remove(),n.length>0?n.fadeIn("fast"):e.fadeIn("fast"),o.iframeHeight&&(e.css("flex","unset"),e.height(o.iframeHeight))}}(jQuery),t})());